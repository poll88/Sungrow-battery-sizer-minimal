# translations.py

LANG_CHOICES = [
    ("en", "English"),
    ("de", "Deutsch"),
    ("it", "Italiano"),
    ("fr", "FranÃ§ais"),
    ("es", "EspaÃ±ol")
]

TRANSLATIONS = {
    "en": {
        "title": "ðŸ”‹ Sungrow Battery Sizer",
        "subtitle": "Estimate the ideal Sungrow battery and inverter size for your PV system.",
        "system_type": "System type",
        "pv_consumption": "Your PV & Consumption",
        "modules_installed": "Total PV modules installed",
        "module_wattage": "Module wattage (Wp)",
        "annual_consumption": "Annual electricity consumption (kWh)",
        "roof_layout": "Roof layout",
        "where_modules": "Where are your modules?",
        "all_one_side": "All on one side",
        "split_two_sides": "Split across two opposite sides",
        "orientation": "Orientation",
        "tilt": "Tilt (degrees)",
        "main_side_orientation": "Main side orientation",
        "daily_load_profile": "Daily load profile",
        "choose_profile": "Choose a profile",
        "p_balanced": "Balanced day/night",
        "p_workday": "Workday away (lower daytime use)",
        "p_home": "Home most of day",
        "p_evening": "Evening peaks",
        "p_heatpump": "Heat pump / daytime loads",
        "p_custom": "Custom",
        "custom_day_pct": "Custom: % of daily load in daytime",
        "backup_optional": "Backup (optional)",
        "backup_kw": "Critical load power (kW)",
        "backup_h": "Duration of backup (hours)",
        "advanced": "Advanced settings",
        "specific_yield": "Specific PV yield (kWh/kWp/year)",
        "rte": "Battery round-trip efficiency",
        "dod": "Battery usable depth of discharge",
        "degradation": "Extra capacity reserve for degradation",
        "calculate": "Calculate recommendation",
        "inv_reco": "Inverter recommendation",
        "pv_dc_size": "PV DC size",
        "suggested_inverter": "Suggested inverter model",
        "dcac_help": "DC/AC ratio is {ratio}, max allowed is {cap}",
        "dcac_warn": "Your DC/AC ratio exceeds the max {cap}",
        "backup_power_warn": "Backup power need ({need} kW) exceeds inverter AC rating ({ac} kW)",
        "battery_inputs": "Battery sizing inputs",
        "orientation_tilt_line": "Orientation: {orientation}, Tilt: {tilt}Â°",
        "profile_line": "Profile: {profile} â€” Day {day}% / Night {night}%",
        "daily_load_line": "Daily load: {daily_load:.1f} kWh â€” PV generation: {daily_pv:.1f} kWh/day ({dc_kw:.1f} kW DC Ã— {specific_yield:.0f} kWh/kWp/year)",
        "day_night_line": "Day load: {day_load:.1f} kWh â€” Night load: {night_load:.1f} kWh",
        "surplus_shift_line": "Day surplus: {surplus:.1f} kWh â€” Shiftable to night: {shiftable:.1f} kWh",
        "two_side_caption": "East/West layout reduces midday peak and increases morning/evening production.",
        "backup_req_line": "Backup need: {kw:.1f} kW Ã— {h:.1f} h = {energy:.1f} kWh",
        "batt_reco": "Suggested battery model",
        "usable_capacity": "Usable capacity",
        "suggested_battery": "Suggested model",
        "no_battery": "No battery recommended",
        "rounded_caption": "Rounded to nearest step for {battery_type} ({battery_step_display}).",
        "breakdown_line": "Self-consumption: {self:.1f} kWh + Backup reserve: {backup:.1f} kWh = Total: {total:.1f} kWh",
        "small_benefit": "Battery benefit too small based on your inputs.",
        "sanity": "System constraints & sanity check",
        "mppt_strings": "MPPTs: {mppts}, Max strings total: {strings}",
        "string_current": "Max string current: {current} A",
        "dcac_cap": "Max DC/AC ratio: {cap}",
        "quick_estimate": "This is a quick sizing tool â€” confirm with your installer.",
        "landing_hint": "Fill in your PV system details above to get a recommendation.",
        "south": "South", "southeast": "South-East", "southwest": "South-West",
        "east": "East", "west": "West", "north": "North",
        "northeast": "North-East", "northwest": "North-West"
    },
    "de": {
        "title": "ðŸ”‹ Sungrow Batteriesizer",
        "subtitle": "SchÃ¤tzen Sie die ideale Sungrow-Batterie- und WechselrichtergrÃ¶ÃŸe fÃ¼r Ihre PV-Anlage.",
        "system_type": "Systemtyp",
        "pv_consumption": "Ihre PV- & Verbrauchsdaten",
        "modules_installed": "Gesamtzahl der PV-Module",
        "module_wattage": "Modulleistung (Wp)",
        "annual_consumption": "JÃ¤hrlicher Stromverbrauch (kWh)",
        "roof_layout": "Dachanordnung",
        "where_modules": "Wo sind Ihre Module?",
        "all_one_side": "Alle auf einer Seite",
        "split_two_sides": "Auf zwei gegenÃ¼berliegenden Seiten verteilt",
        "orientation": "Ausrichtung",
        "tilt": "Neigung (Grad)",
        "main_side_orientation": "Ausrichtung Hauptseite",
        "daily_load_profile": "TÃ¤gliches Lastprofil",
        "choose_profile": "Profil auswÃ¤hlen",
        "p_balanced": "Ausgeglichen Tag/Nacht",
        "p_workday": "Arbeitstag abwesend (weniger Tageslast)",
        "p_home": "Meistens zuhause",
        "p_evening": "Abendspitzen",
        "p_heatpump": "WÃ¤rmepumpe / Tageslasten",
        "p_custom": "Benutzerdefiniert",
        "custom_day_pct": "Benutzerdefiniert: % der Tageslast am Tag",
        "backup_optional": "Backup (optional)",
        "backup_kw": "Kritische Lastleistung (kW)",
        "backup_h": "Dauer des Backups (Stunden)",
        "advanced": "Erweiterte Einstellungen",
        "specific_yield": "Spezifischer PV-Ertrag (kWh/kWp/Jahr)",
        "rte": "Batterie-Wirkungsgrad",
        "dod": "Batterie-Nutzungstiefe",
        "degradation": "ZusÃ¤tzliche KapazitÃ¤tsreserve fÃ¼r Alterung",
        "calculate": "Empfehlung berechnen",
        "inv_reco": "Wechselrichterempfehlung",
        "pv_dc_size": "PV-DC-Leistung",
        "suggested_inverter": "Empfohlenes Modell",
        "dcac_help": "DC/AC-VerhÃ¤ltnis: {ratio}, max erlaubt: {cap}",
        "dcac_warn": "Ihr DC/AC-VerhÃ¤ltnis Ã¼berschreitet das Maximum {cap}",
        "backup_power_warn": "Backup-Leistung ({need} kW) Ã¼bersteigt AC-Nennleistung ({ac} kW)",
        "battery_inputs": "Eingaben zur Batteriesizing",
        "orientation_tilt_line": "Ausrichtung: {orientation}, Neigung: {tilt}Â°",
        "profile_line": "Profil: {profile} â€” Tag {day}% / Nacht {night}%",
        "daily_load_line": "Tageslast: {daily_load:.1f} kWh â€” PV-Erzeugung: {daily_pv:.1f} kWh/Tag ({dc_kw:.1f} kW DC Ã— {specific_yield:.0f} kWh/kWp/Jahr)",
        "day_night_line": "Tageslast: {day_load:.1f} kWh â€” Nachtlast: {night_load:.1f} kWh",
        "surplus_shift_line": "TagÃ¼berschuss: {surplus:.1f} kWh â€” Verschiebbar in Nacht: {shiftable:.1f} kWh",
        "two_side_caption": "Ost/West-Anordnung reduziert Mittags-Peak und erhÃ¶ht Morgen/Abendproduktion.",
        "backup_req_line": "Backup-Bedarf: {kw:.1f} kW Ã— {h:.1f} h = {energy:.1f} kWh",
        "batt_reco": "Empfohlene Batterie",
        "usable_capacity": "Nutzbare KapazitÃ¤t",
        "suggested_battery": "Empfohlenes Modell",
        "no_battery": "Keine Batterie empfohlen",
        "rounded_caption": "Aufgerundet auf nÃ¤chstes {battery_type}-SchrittmaÃŸ ({battery_step_display}).",
        "breakdown_line": "Eigenverbrauch: {self:.1f} kWh + Backup-Reserve: {backup:.1f} kWh = Gesamt: {total:.1f} kWh",
        "small_benefit": "Batterienutzen zu gering basierend auf Ihren Eingaben.",
        "sanity": "Systemgrenzen & PrÃ¼fung",
        "mppt_strings": "MPPTs: {mppts}, Max Strings gesamt: {strings}",
        "string_current": "Max. Stringstrom: {current} A",
        "dcac_cap": "Max DC/AC-VerhÃ¤ltnis: {cap}",
        "quick_estimate": "Dies ist ein Schnellrechner â€“ bitte mit Installateur bestÃ¤tigen.",
        "landing_hint": "Geben Sie oben Ihre PV-Anlagedaten ein, um eine Empfehlung zu erhalten.",
        "south": "SÃ¼d", "southeast": "SÃ¼dost", "southwest": "SÃ¼dwest",
        "east": "Ost", "west": "West", "north": "Nord",
        "northeast": "Nordost", "northwest": "Nordwest"
    },
    # --- Italian, French, Spanish omitted for brevity in this message ---
    # You would add them here following the same pattern.
}

def get_text(lang, key):
    """Return translated text for key, falling back to English."""
    return TRANSLATIONS.get(lang, {}).get(key, TRANSLATIONS["en"].get(key, key))
